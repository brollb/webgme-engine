<html>
	<head>
		<title>webgme trial page</title>

        <!-- CSS libraries -->
        <link href="css/dynatree/ui.dynatree.css" rel="stylesheet" type="text/css">
        <link href="css/main.css" type="text/css" rel="stylesheet"/>
        <link href="css/jquery.contextMenu.css" type="text/css" rel="stylesheet"/>
        <!-- // CSS libraries -->

        <script src="/jquery.min.js"></script>
        <script src="/jquery-ui.min.js"></script>
        <script src="/jquery.dynatree.js"></script>
        <script src="/TreeBrowserWidget.js"></script>
        <script src="/jquery.contextMenu.js"></script>

		<script src="/lib/require.js"></script>

		<script>
            function logMessage( msg )
            {
                if ( window.console ) {
                    var d = new Date();
                    console.log( d.getHours() + ":" + d.getMinutes() + ":" + d.getSeconds() + "." + d.getMilliseconds() + ": " + msg );
                }
            }

			require(['./clientproject.js','./listerctrl.js','./modifyctrl.js', './listerctrl_tree.js', './delayctrl.js', './pasterootctrl.js','./deletetestctrl.js'],function(PR,LI,MO,LI2,DE,PA,DT){
				var myproject = undefined;
				//var mylister = undefined;
				//var mymodifier = undefined;
                var mylister2 = undefined;
                var delayer = undefined;
                var paster = undefined;
                var deleter = undefined;
				openProject = function(){
					myproject = new PR(document.getElementById('projectselector/projid').value);
					myproject.onOpen = function(){
						/*appending widgets*/
						//mylister = new LI(myproject,document.getElementById('projectlister'));
						//mymodifier = new MO(myproject,document.getElementById('projectmodifier'));
                        mylister2 = new LI2(myproject, "projectlister2" );
                        delayer = new DE(myproject.socket, document.getElementById("delaycontrol"));
                        paster = new PA(myproject,document.getElementById("pastecontrol"));
                        deleter = new DT(myproject,document.getElementById("deletecontrol"));
						alert('it is opened');
					};
					
					myproject.open();
					
				}
			});
		</script>
	</head>
	<body>
		<div id="projectselector">
			<input type="text" id="projectselector/projid" /><input type="button" value="open" id="projectselector/openbutton" onclick="openProject()" />
		</div>
		<div>
        	<div id="projectlister2" style="background-color:#FFD700;height:400px;width:200px;float:left;"></div>
        	<div id="delaycontrol" ></div>
            <div id="pastecontrol" ></div>
            <div id="deletecontrol" ></div>
        </div>
	</body>
</html>