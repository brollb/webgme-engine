<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>WebGme Test</title>
<script src="require.js"></script>
</head>
<body>
Test
<script>
	require(["flattable", "notifier"], function(Table, Notifier) {
		var table = new Table();
		var column = table.createColumn();
		column.set(table.getRow("a"), "b");
		column.set(table.getRow("c"), "d");
		column.set(table.getRow("e"), "f");
		column.set(table.getRow("c"), "-");
		column.foreach(function(row) {
			console.log(table.getId(row) + " : " + column.get(row));
		});

		console.log("");
		column.del(table.getRow("a"));
		column.foreach(function(row) {
			console.log(table.getId(row) + " : " + column.get(row));
		});
		
		console.log("");
		var notifier = new Notifier(table, function(row, data) {
			console.log(table.getId(row) + " : " + data);
		}, function(row, o, n) {
			console.log(table.getId(row) + " : " + o + " -> " + n);
		});

		notifier.add(table.getRow("a"), "x");
		notifier.add(table.getRow("c"), "y");
		notifier.add(table.getRow("c"), "z");
		notifier.remove(table.getRow("c"), "y");
		
		column.foreach(function(row) {
			notifier.notify(row);
		});
	});
	</script>
</body>
</html>